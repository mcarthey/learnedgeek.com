<svg viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
  <!-- Dark background -->
  <rect width="800" height="450" fill="#1a1a2e"/>

  <!-- Two code boxes side by side -->
  <g transform="translate(50, 100)">
    <!-- Wrong: HttpResponseMessage -->
    <g>
      <rect width="320" height="240" rx="8" fill="#3d1a1a" stroke="#ff4444" stroke-width="3"/>

      <text x="160" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ff4444" text-anchor="middle">❌ Memory Leak</text>

      <text x="20" y="65" font-family="monospace" font-size="11" fill="#569cd6">public async Task</text>
      <text x="20" y="82" font-family="monospace" font-size="11" fill="#569cd6">&lt;</text>
      <text x="30" y="82" font-family="monospace" font-size="11" fill="#4ec9b0">HttpResponseMessage</text>
      <text x="185" y="82" font-family="monospace" font-size="11" fill="#569cd6">&gt;</text>

      <text x="20" y="102" font-family="monospace" font-size="11" fill="#dcdcaa">GetData</text>
      <text x="75" y="102" font-family="monospace" font-size="11" fill="#ffffff">()</text>

      <text x="20" y="122" font-family="monospace" font-size="11" fill="#ffffff">{</text>

      <text x="35" y="142" font-family="monospace" font-size="11" fill="#c586c0">return</text>
      <text x="90" y="142" font-family="monospace" font-size="11" fill="#ffffff">Request</text>

      <text x="45" y="162" font-family="monospace" font-size="11" fill="#ffffff">.CreateResponse(</text>

      <text x="45" y="182" font-family="monospace" font-size="11" fill="#ffffff">HttpStatusCode.OK,</text>

      <text x="45" y="202" font-family="monospace" font-size="11" fill="#ffffff">result);</text>

      <text x="20" y="222" font-family="monospace" font-size="11" fill="#ffffff">}</text>

      <!-- Leak arrow -->
      <line x1="280" y1="200" x2="310" y2="200" stroke="#ff4444" stroke-width="2" marker-end="url(#arrowRed)"/>
    </g>

    <!-- Right: IHttpActionResult -->
    <g transform="translate(380, 0)">
      <rect width="320" height="240" rx="8" fill="#1a3d1a" stroke="#4ade80" stroke-width="3"/>

      <text x="160" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4ade80" text-anchor="middle">✓ No Leak</text>

      <text x="20" y="65" font-family="monospace" font-size="11" fill="#569cd6">public async Task</text>
      <text x="20" y="82" font-family="monospace" font-size="11" fill="#569cd6">&lt;</text>
      <text x="30" y="82" font-family="monospace" font-size="11" fill="#4ec9b0">IHttpActionResult</text>
      <text x="165" y="82" font-family="monospace" font-size="11" fill="#569cd6">&gt;</text>

      <text x="20" y="102" font-family="monospace" font-size="11" fill="#dcdcaa">GetData</text>
      <text x="75" y="102" font-family="monospace" font-size="11" fill="#ffffff">()</text>

      <text x="20" y="122" font-family="monospace" font-size="11" fill="#ffffff">{</text>

      <text x="35" y="142" font-family="monospace" font-size="11" fill="#c586c0">return</text>
      <text x="90" y="142" font-family="monospace" font-size="11" fill="#dcdcaa">Ok</text>
      <text x="105" y="142" font-family="monospace" font-size="11" fill="#ffffff">(result);</text>

      <text x="20" y="202" font-family="monospace" font-size="11" fill="#ffffff">}</text>

      <!-- Success checkmark -->
      <circle cx="285" cy="200" r="12" fill="#4ade80"/>
      <path d="M 279 200 L 282 204 L 291 194" fill="none" stroke="#1a1a2e" stroke-width="2" stroke-linecap="round"/>
    </g>
  </g>

  <!-- Disposal contract explanation -->
  <g transform="translate(50, 360)">
    <rect width="340" height="60" rx="4" fill="#2d2d2d"/>
    <text x="10" y="22" font-family="Arial, sans-serif" font-size="12" fill="#ff4444">HttpResponseMessage:</text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="11" fill="#999999">You must dispose manually</text>
  </g>

  <g transform="translate(410, 360)">
    <rect width="340" height="60" rx="4" fill="#2d2d2d"/>
    <text x="10" y="22" font-family="Arial, sans-serif" font-size="12" fill="#4ade80">IHttpActionResult:</text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="11" fill="#999999">Web API disposes for you</text>
  </g>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ff4444" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="50" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#ffffff" text-anchor="middle">Web API's Disposal Trap</text>
  <text x="400" y="75" font-family="Arial, sans-serif" font-size="16" fill="#8b5cf6" text-anchor="middle">HttpResponseMessage vs IHttpActionResult</text>
</svg>
