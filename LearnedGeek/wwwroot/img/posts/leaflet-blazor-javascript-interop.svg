<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 450">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="csharpGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#68217a"/>
      <stop offset="100%" style="stop-color:#9b4dca"/>
    </linearGradient>
    <linearGradient id="jsGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0db4f"/>
      <stop offset="100%" style="stop-color:#e0cb3f"/>
    </linearGradient>
    <linearGradient id="mapGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="450" fill="url(#bgGrad)"/>

  <!-- Subtle grid -->
  <g opacity="0.03">
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#fff" stroke-width="1"/>
    </pattern>
    <rect width="800" height="450" fill="url(#grid)"/>
  </g>

  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="22" fill="#fff" text-anchor="middle" font-weight="bold">
    When Your Map Library Doesn't Speak C#
  </text>
  <text x="400" y="65" font-family="Arial, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">
    Leaflet.js + Blazor JavaScript Interop
  </text>

  <!-- C# / Blazor Box (Left) -->
  <g transform="translate(60, 110)">
    <rect x="0" y="0" width="200" height="220" rx="10" fill="#2a2a4a" stroke="#68217a" stroke-width="2"/>

    <!-- C# logo placeholder -->
    <rect x="15" y="15" width="50" height="50" rx="8" fill="url(#csharpGrad)"/>
    <text x="40" y="50" font-family="Arial, sans-serif" font-size="22" fill="#fff" text-anchor="middle" font-weight="bold">C#</text>

    <text x="100" y="30" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle" font-weight="bold">BLAZOR WASM</text>
    <text x="100" y="50" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Component</text>

    <!-- Code snippet -->
    <rect x="15" y="75" width="170" height="130" rx="4" fill="#1e293b"/>
    <text x="25" y="95" font-family="monospace" font-size="9" fill="#9b4dca">await</text>
    <text x="60" y="95" font-family="monospace" font-size="9" fill="#94a3b8">JS.InvokeVoidAsync(</text>
    <text x="35" y="110" font-family="monospace" font-size="9" fill="#6ee7b7">"crewMap.addMarker"</text>
    <text x="25" y="125" font-family="monospace" font-size="9" fill="#94a3b8">id, lat, lng, ...);</text>
    <text x="25" y="150" font-family="monospace" font-size="9" fill="#6ee7b7">// Send command</text>
    <text x="25" y="165" font-family="monospace" font-size="9" fill="#6ee7b7">// JS owns the state</text>
    <text x="25" y="185" font-family="monospace" font-size="9" fill="#94a3b8">[JSInvokable]</text>
    <text x="25" y="200" font-family="monospace" font-size="9" fill="#9b4dca">OnMarkerClicked</text>
  </g>
  <text x="160" y="350" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Sends Commands</text>

  <!-- Bridge / Interop Zone (Center) -->
  <g transform="translate(290, 150)">
    <!-- Bridge visual -->
    <rect x="0" y="0" width="220" height="140" rx="10" fill="#2a2a4a" stroke="#4a4a6a" stroke-width="2" stroke-dasharray="5,5"/>

    <text x="110" y="25" font-family="Arial, sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">INTEROP BOUNDARY</text>

    <!-- Arrows going right -->
    <g transform="translate(30, 50)">
      <line x1="0" y1="0" x2="160" y2="0" stroke="#9b4dca" stroke-width="3"/>
      <polygon points="165,-5 165,5 175,0" fill="#9b4dca"/>
      <text x="80" y="-10" font-family="Arial, sans-serif" font-size="9" fill="#9b4dca" text-anchor="middle">IJSRuntime</text>
    </g>

    <!-- Arrows going left -->
    <g transform="translate(30, 100)">
      <line x1="160" y1="0" x2="0" y2="0" stroke="#f0db4f" stroke-width="3"/>
      <polygon points="-5,-5 -5,5 -15,0" fill="#f0db4f"/>
      <text x="80" y="-10" font-family="Arial, sans-serif" font-size="9" fill="#f0db4f" text-anchor="middle">DotNetObjectReference</text>
    </g>
  </g>

  <!-- JavaScript / Leaflet Box (Right) -->
  <g transform="translate(540, 110)">
    <rect x="0" y="0" width="200" height="220" rx="10" fill="#2a2a4a" stroke="#f0db4f" stroke-width="2"/>

    <!-- JS logo -->
    <rect x="15" y="15" width="50" height="50" rx="8" fill="url(#jsGrad)"/>
    <text x="40" y="50" font-family="Arial, sans-serif" font-size="18" fill="#1a1a2e" text-anchor="middle" font-weight="bold">JS</text>

    <text x="130" y="30" font-family="Arial, sans-serif" font-size="14" fill="#fff" font-weight="bold">LEAFLET.JS</text>
    <text x="130" y="50" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">crewMap module</text>

    <!-- Code snippet -->
    <rect x="15" y="75" width="170" height="130" rx="4" fill="#1e293b"/>
    <text x="25" y="95" font-family="monospace" font-size="9" fill="#f0db4f">window.crewMap</text>
    <text x="115" y="95" font-family="monospace" font-size="9" fill="#94a3b8">= {</text>
    <text x="35" y="110" font-family="monospace" font-size="9" fill="#94a3b8">map: null,</text>
    <text x="35" y="125" font-family="monospace" font-size="9" fill="#94a3b8">markers: {},</text>
    <text x="35" y="145" font-family="monospace" font-size="9" fill="#6ee7b7">// All state here</text>
    <text x="35" y="165" font-family="monospace" font-size="9" fill="#f0db4f">addMarker:</text>
    <text x="95" y="165" font-family="monospace" font-size="9" fill="#94a3b8">function() {</text>
    <text x="35" y="185" font-family="monospace" font-size="9" fill="#94a3b8">  L.marker([lat,lng])</text>
    <text x="25" y="200" font-family="monospace" font-size="9" fill="#94a3b8">}</text>
  </g>
  <text x="640" y="350" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Owns the State</text>

  <!-- Map Preview (Bottom Center) -->
  <g transform="translate(290, 305)">
    <rect x="0" y="0" width="220" height="100" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2"/>

    <!-- Map "roads" -->
    <line x1="20" y1="50" x2="200" y2="50" stroke="#3f4f5f" stroke-width="2"/>
    <line x1="110" y1="10" x2="110" y2="90" stroke="#3f4f5f" stroke-width="2"/>
    <line x1="40" y1="20" x2="180" y2="80" stroke="#3f4f5f" stroke-width="1"/>

    <!-- Markers -->
    <circle cx="60" cy="35" r="12" fill="url(#mapGrad)"/>
    <text x="60" y="39" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle" font-weight="bold">JD</text>

    <circle cx="140" cy="65" r="12" fill="#f59e0b"/>
    <text x="140" y="69" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle" font-weight="bold">MK</text>

    <circle cx="180" cy="30" r="12" fill="#6b7280"/>
    <text x="180" y="34" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle" font-weight="bold">RL</text>

    <!-- Label -->
    <text x="110" y="-10" font-family="Arial, sans-serif" font-size="10" fill="#10b981" text-anchor="middle">Live Crew Map</text>
  </g>

  <!-- Key insight box -->
  <g transform="translate(530, 375)">
    <rect x="0" y="0" width="240" height="55" rx="6" fill="#2a2a4a" stroke="#10b981" stroke-width="1"/>
    <text x="120" y="20" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle" font-weight="bold">JavaScript is the driver.</text>
    <text x="120" y="38" font-family="Arial, sans-serif" font-size="10" fill="#10b981" text-anchor="middle" font-weight="bold">C# is the passenger giving directions.</text>
  </g>
</svg>
