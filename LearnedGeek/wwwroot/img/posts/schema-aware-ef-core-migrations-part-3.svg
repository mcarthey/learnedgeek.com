<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="bg3Grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="shieldGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#15803d"/>
    </linearGradient>
    <linearGradient id="layer1Grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#2563eb"/>
    </linearGradient>
    <linearGradient id="layer2Grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </linearGradient>
    <linearGradient id="layer3Grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <linearGradient id="layer4Grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="100%" style="stop-color:#dc2626"/>
    </linearGradient>
    <linearGradient id="layer5Grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#16a34a"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="url(#bg3Grad)"/>

  <!-- Subtle grid -->
  <g opacity="0.05" stroke="#22c55e" stroke-width="0.5">
    <line x1="0" y1="100" x2="800" y2="100"/>
    <line x1="0" y1="200" x2="800" y2="200"/>
    <line x1="0" y1="300" x2="800" y2="300"/>
  </g>

  <!-- Title -->
  <text x="400" y="32" font-family="sans-serif" font-size="14" fill="#e2e8f0" text-anchor="middle" font-weight="bold">Five Layers of Schema Confidence</text>

  <!-- Part 3 badge -->
  <g transform="translate(710, 12)">
    <rect x="0" y="0" width="60" height="22" rx="11" fill="url(#shieldGrad)"/>
    <text x="30" y="15" font-family="sans-serif" font-size="9" font-weight="bold" fill="white" text-anchor="middle">PART 3</text>
  </g>

  <!-- Shield icon (left side) -->
  <g transform="translate(40, 80)">
    <path d="M60 0 L120 25 L120 85 Q120 140 60 160 Q0 140 0 85 L0 25 Z"
          fill="url(#shieldGrad)" opacity="0.15" stroke="#22c55e" stroke-width="1.5"/>
    <path d="M60 20 L100 38 L100 80 Q100 120 60 135 Q20 120 20 80 L20 38 Z"
          fill="url(#shieldGrad)" opacity="0.1"/>
    <!-- Checkmark in shield -->
    <path d="M40 75 L55 95 L85 55" stroke="#22c55e" stroke-width="4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    <text x="60" y="180" font-family="sans-serif" font-size="10" fill="#86efac" text-anchor="middle">Schema</text>
    <text x="60" y="195" font-family="sans-serif" font-size="10" fill="#86efac" text-anchor="middle">Verified</text>
  </g>

  <!-- Five layers (right side, stacked) -->
  <!-- Layer 5: Health Checks (top - outermost) -->
  <g transform="translate(200, 50)">
    <rect x="0" y="0" width="560" height="50" rx="6" fill="url(#layer5Grad)" opacity="0.9"/>
    <text x="30" y="20" font-family="sans-serif" font-size="10" fill="white" font-weight="bold">Layer 5</text>
    <text x="110" y="20" font-family="sans-serif" font-size="10" fill="white">Runtime Health Checks</text>
    <text x="30" y="38" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.7)">SchemaHealthCheck : IHealthCheck  |  Continuous monitoring</text>
    <text x="535" y="20" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.8)" text-anchor="end">RUNTIME</text>
  </g>

  <!-- Layer 4: Startup Validation -->
  <g transform="translate(215, 108)">
    <rect x="0" y="0" width="530" height="50" rx="6" fill="url(#layer4Grad)" opacity="0.9"/>
    <text x="25" y="20" font-family="sans-serif" font-size="10" fill="white" font-weight="bold">Layer 4</text>
    <text x="105" y="20" font-family="sans-serif" font-size="10" fill="white">Startup Validation</text>
    <text x="25" y="38" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.7)">SchemaValidator  |  Fail fast on misconfiguration</text>
    <text x="505" y="20" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.8)" text-anchor="end">STARTUP</text>
  </g>

  <!-- Layer 3: CI Verification -->
  <g transform="translate(230, 166)">
    <rect x="0" y="0" width="500" height="50" rx="6" fill="url(#layer3Grad)" opacity="0.9"/>
    <text x="25" y="20" font-family="sans-serif" font-size="10" fill="white" font-weight="bold">Layer 3</text>
    <text x="105" y="20" font-family="sans-serif" font-size="10" fill="white">CI Schema Verification</text>
    <text x="25" y="38" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.7)">INFORMATION_SCHEMA queries  |  Post-migration checks</text>
    <text x="475" y="20" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.8)" text-anchor="end">DEPLOY</text>
  </g>

  <!-- Layer 2: Integration Tests -->
  <g transform="translate(245, 224)">
    <rect x="0" y="0" width="470" height="50" rx="6" fill="url(#layer2Grad)" opacity="0.9"/>
    <text x="25" y="20" font-family="sans-serif" font-size="10" fill="white" font-weight="bold">Layer 2</text>
    <text x="105" y="20" font-family="sans-serif" font-size="10" fill="white">Integration Tests</text>
    <text x="25" y="38" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.7)">MigrateAsync() + verify database state</text>
    <text x="445" y="20" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.8)" text-anchor="end">TEST</text>
  </g>

  <!-- Layer 1: Unit Tests (innermost) -->
  <g transform="translate(260, 282)">
    <rect x="0" y="0" width="440" height="50" rx="6" fill="url(#layer1Grad)" opacity="0.9"/>
    <text x="25" y="20" font-family="sans-serif" font-size="10" fill="white" font-weight="bold">Layer 1</text>
    <text x="105" y="20" font-family="sans-serif" font-size="10" fill="white">Unit Tests</text>
    <text x="25" y="38" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.7)">Configuration consistency  |  Schema mapping logic</text>
    <text x="415" y="20" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.8)" text-anchor="end">BUILD</text>
  </g>

  <!-- Catch descriptions on the right -->
  <g transform="translate(200, 345)">
    <text x="0" y="12" font-family="monospace" font-size="7" fill="#86efac">Unit: config logic</text>
    <text x="110" y="12" font-family="monospace" font-size="7" fill="#c4b5fd">Integration: generation</text>
    <text x="250" y="12" font-family="monospace" font-size="7" fill="#fde68a">CI: deployment</text>
    <text x="350" y="12" font-family="monospace" font-size="7" fill="#fca5a5">Startup: drift</text>
    <text x="445" y="12" font-family="monospace" font-size="7" fill="#86efac">Health: ongoing</text>
  </g>

  <!-- Bottom tagline -->
  <text x="400" y="388" font-family="sans-serif" font-size="10" fill="#a0aec0" text-anchor="middle">Tests, CI verification, and health checks for production-grade schema isolation</text>
</svg>
