<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="badGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c"/>
      <stop offset="100%" style="stop-color:#c0392b"/>
    </linearGradient>
    <linearGradient id="goodGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#27ae60"/>
      <stop offset="100%" style="stop-color:#1e8449"/>
    </linearGradient>
    <linearGradient id="serviceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db"/>
      <stop offset="100%" style="stop-color:#2980b9"/>
    </linearGradient>
    <marker id="arrowRed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="url(#bgGrad)"/>

  <!-- Divider -->
  <line x1="400" y1="60" x2="400" y2="340" stroke="#4a5568" stroke-width="2" stroke-dasharray="8,4"/>

  <!-- Left side: Circular Dependency -->
  <text x="200" y="50" font-family="sans-serif" font-size="18" fill="#e74c3c" text-anchor="middle" font-weight="bold">Before: Circular</text>

  <!-- Service A box -->
  <rect x="80" y="120" width="120" height="50" rx="6" fill="url(#badGrad)"/>
  <text x="140" y="150" font-family="monospace" font-size="12" fill="white" text-anchor="middle">SyncService</text>

  <!-- Service B box -->
  <rect x="80" y="230" width="120" height="50" rx="6" fill="url(#badGrad)"/>
  <text x="140" y="260" font-family="monospace" font-size="12" fill="white" text-anchor="middle">LoggingService</text>

  <!-- Circular arrows -->
  <path d="M200 145 Q280 145 280 200 Q280 255 200 255" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowRed)"/>
  <path d="M80 255 Q0 255 0 200 Q0 145 80 145" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowRed)"/>

  <!-- X mark -->
  <circle cx="280" cy="200" r="20" fill="#c0392b"/>
  <text x="280" y="207" font-family="sans-serif" font-size="20" fill="white" text-anchor="middle" font-weight="bold">✗</text>

  <!-- Right side: Clean Dependencies -->
  <text x="600" y="50" font-family="sans-serif" font-size="18" fill="#27ae60" text-anchor="middle" font-weight="bold">After: SOLID</text>

  <!-- Extracted service at top -->
  <rect x="530" y="100" width="140" height="50" rx="6" fill="url(#serviceGrad)"/>
  <text x="600" y="122" font-family="monospace" font-size="10" fill="white" text-anchor="middle">ISyncStatusService</text>
  <text x="600" y="138" font-family="sans-serif" font-size="9" fill="#bee3f8" text-anchor="middle">(shared state)</text>

  <!-- Service A box -->
  <rect x="460" y="230" width="110" height="50" rx="6" fill="url(#goodGrad)"/>
  <text x="515" y="260" font-family="monospace" font-size="11" fill="white" text-anchor="middle">SyncService</text>

  <!-- Service B box -->
  <rect x="630" y="230" width="110" height="50" rx="6" fill="url(#goodGrad)"/>
  <text x="685" y="260" font-family="monospace" font-size="11" fill="white" text-anchor="middle">LoggingService</text>

  <!-- Clean arrows pointing up -->
  <path d="M515 230 L515 180 L560 155" stroke="#27ae60" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>
  <path d="M685 230 L685 180 L640 155" stroke="#27ae60" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>

  <!-- Check mark -->
  <circle cx="600" cy="200" r="20" fill="#1e8449"/>
  <text x="600" y="207" font-family="sans-serif" font-size="20" fill="white" text-anchor="middle" font-weight="bold">✓</text>

  <!-- Bottom labels -->
  <text x="140" y="320" font-family="sans-serif" font-size="11" fill="#718096" text-anchor="middle">Hidden dependencies</text>
  <text x="140" y="335" font-family="sans-serif" font-size="11" fill="#718096" text-anchor="middle">Hard to test</text>

  <text x="600" y="320" font-family="sans-serif" font-size="11" fill="#a0aec0" text-anchor="middle">Clear dependency graph</text>
  <text x="600" y="335" font-family="sans-serif" font-size="11" fill="#a0aec0" text-anchor="middle">Easy to extend</text>

  <!-- Title -->
  <text x="400" y="380" font-family="sans-serif" font-size="14" fill="#e2e8f0" text-anchor="middle">Extract Shared Concerns → Break the Cycle</text>
</svg>