<svg viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
  <!-- Dark background -->
  <rect width="800" height="450" fill="#1a1a2e"/>

  <!-- Three cleanup types visualization -->
  <g transform="translate(50, 120)">
    <!-- Type 1: Stack Cleanup (immediate) -->
    <g>
      <rect width="200" height="180" rx="8" fill="#2d2d2d"/>
      <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4ade80" text-anchor="middle">Stack Cleanup</text>
      <text x="100" y="50" font-family="Arial, sans-serif" font-size="11" fill="#4ade80" text-anchor="middle">Automatic, Immediate</text>

      <text x="20" y="80" font-family="monospace" font-size="10" fill="#666666">int number = 42;</text>
      <text x="20" y="100" font-family="monospace" font-size="10" fill="#666666">string text;</text>

      <line x1="30" y1="120" x2="170" y2="120" stroke="#3a3a4e" stroke-width="1"/>

      <text x="100" y="145" font-family="Arial, sans-serif" font-size="10" fill="#4ade80" text-anchor="middle">✓ Variables cleaned</text>
      <text x="100" y="162" font-family="Arial, sans-serif" font-size="10" fill="#4ade80" text-anchor="middle">✓ References removed</text>
    </g>

    <!-- Type 2: Heap Cleanup (eventual) -->
    <g transform="translate(250, 0)">
      <rect width="200" height="180" rx="8" fill="#2d2d2d"/>
      <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#facc15" text-anchor="middle">Heap Cleanup</text>
      <text x="100" y="50" font-family="Arial, sans-serif" font-size="11" fill="#facc15" text-anchor="middle">Automatic, Eventually</text>

      <text x="20" y="80" font-family="monospace" font-size="10" fill="#666666">var obj =</text>
      <text x="20" y="100" font-family="monospace" font-size="10" fill="#666666">  new MyClass();</text>

      <line x1="30" y1="120" x2="170" y2="120" stroke="#3a3a4e" stroke-width="1"/>

      <text x="100" y="145" font-family="Arial, sans-serif" font-size="10" fill="#facc15" text-anchor="middle">⏰ GC collects</text>
      <text x="100" y="162" font-family="Arial, sans-serif" font-size="10" fill="#facc15" text-anchor="middle">⏰ Non-deterministic</text>
    </g>

    <!-- Type 3: Resource Cleanup (manual) -->
    <g transform="translate(500, 0)">
      <rect width="200" height="180" rx="8" fill="#2d2d2d"/>
      <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ff4444" text-anchor="middle">Resource Cleanup</text>
      <text x="100" y="50" font-family="Arial, sans-serif" font-size="11" fill="#ff4444" text-anchor="middle">Manual, Explicit</text>

      <text x="20" y="80" font-family="monospace" font-size="10" fill="#666666">using var stream</text>
      <text x="20" y="100" font-family="monospace" font-size="10" fill="#666666">  = new File();</text>

      <line x1="30" y1="120" x2="170" y2="120" stroke="#3a3a4e" stroke-width="1"/>

      <text x="100" y="145" font-family="Arial, sans-serif" font-size="10" fill="#ff4444" text-anchor="middle">⚠️ Must use `using`</text>
      <text x="100" y="162" font-family="Arial, sans-serif" font-size="10" fill="#ff4444" text-anchor="middle">⚠️ Explicit disposal</text>
    </g>
  </g>

  <!-- The misconception -->
  <g transform="translate(50, 330)">
    <rect width="700" height="80" rx="8" fill="#2d2d2d"/>

    <text x="20" y="30" font-family="Arial, sans-serif" font-size="14" fill="#ff6b6b" font-weight="bold">The Misconception:</text>
    <text x="20" y="52" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">"Objects dispose themselves when they go out of scope"</text>

    <text x="520" y="30" font-family="Arial, sans-serif" font-size="14" fill="#4ade80" font-weight="bold">The Reality:</text>
    <text x="520" y="52" font-family="Arial, sans-serif" font-size="12" fill="#ffffff">Scope ≠ Disposal</text>
  </g>

  <!-- Title -->
  <text x="400" y="50" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#ffffff" text-anchor="middle">IDisposable Fundamentals</text>
  <text x="400" y="75" font-family="Arial, sans-serif" font-size="16" fill="#8b5cf6" text-anchor="middle">What I Misunderstood for 30 Years</text>
</svg>
